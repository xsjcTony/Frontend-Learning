# å¸¸ç”¨åŒ…



## JSDOM

[jsdom - npm](https://www.npmjs.com/package/jsdom)

å®šä¹‰

- åœ¨ `NodeJS` ä¸­è®¿é—® `document`

- ä½¿ç”¨ `jsdom` å®ç°
- ç”¨äºåœ¨ `NodeJS` ä¸­å¯ä»¥æ“ä½œ `DOM`

å¯¼å…¥

```js
const { JSDOM } = require('jsdom')
```

åŸºæœ¬ä½¿ç”¨

- ä½¿ç”¨ `new JSDOM(htmlå­—ç¬¦ä¸²)` æ¥ç”Ÿæˆç½‘é¡µ
- `window` ä¸º `new JSDOM(htmlå­—ç¬¦ä¸²).window`
- ä½¿ç”¨ `html.serialize()` å°†ç½‘é¡µè½¬åŒ–ä¸º `HTML` å­—ç¬¦ä¸²

---

## Commander

[commander - npm](https://www.npmjs.com/package/commander)

[tj/commander.js: node.js command-line interfaces made easy](https://github.com/tj/commander.js)

å®šä¹‰

- ç”¨äºå¤„ç†å‘½ä»¤è¡Œå‚æ•°

åŸºæœ¬ä½¿ç”¨

- `.version()` : ç‰ˆæœ¬å·, å¯¹åº” `--v` / `-V`
- `.parse()` : å¤„ç†å‚æ•° é»˜è®¤æ·»åŠ  `--h` / `-h` çš„å¸®åŠ©
- `.command()` : æ·»åŠ æŒ‡ä»¤
- `.alias()` : æ·»åŠ æŒ‡ä»¤ç¼©å†™
- `.description()` : æ·»åŠ æŒ‡ä»¤æè¿°
- `.option()` : æ·»åŠ æŒ‡ä»¤é€‰é¡¹
- `.action()` : æŒ‡ä»¤æ‰§è¡Œå›è°ƒå‡½æ•°
- `.on()` : ç›‘å¬äº‹ä»¶, æ‰§è¡Œè‡ªå®šä¹‰å›è°ƒå‡½æ•°

```js
import { program } from 'commander'
program.version('1.0.0').parse(process.argv) // è‡ªåŠ¨ç”Ÿæˆ--versionç‰ˆæœ¬å·ä»¥åŠ--helpä½¿ç”¨å¸®åŠ©
```

---

## ora

[ora - npm](https://www.npmjs.com/package/ora)

[sindresorhus/ora: Elegant terminal spinner](https://github.com/sindresorhus/ora)

å®šä¹‰

- `terminal` åŠ è½½æ•ˆæœ

åŸºæœ¬ä½¿ç”¨

```js
import ora from 'ora';

const spinner = ora('Loading unicorns').start();

setTimeout(() => {
	spinner.color = 'yellow';
	spinner.text = 'Loading rainbows';
}, 1000);
```

---

## Inquirer

[inquirer - npm](https://www.npmjs.com/package/inquirer)

[SBoudrias/Inquirer.js: A collection of common interactive command line user interfaces.](https://github.com/SBoudrias/Inquirer.js)

å®šä¹‰

- `terminal` ç”¨æˆ·äº¤äº’

åŸºæœ¬ä½¿ç”¨

```js
import inquirer from 'inquirer'

inquirer
	.prompt([
  	/* questions */
	])
	.then((answer) => { /* ... */ })
	.catch((error) => { /* ... */ })
```

---

## download-git-repo

[download-git-repo - npm](https://www.npmjs.com/package/download-git-repo)

[Phillip Lanclos / download-git-repo Â· GitLab](https://gitlab.com/flippidippi/download-git-repo)

å®šä¹‰

- ç”¨äºåœ¨ `NodeJS` ä¸­ä¸‹è½½ `github` / `gitlab` / `bitbucket` ä¸­çš„ä»“åº“

åŸºæœ¬ä½¿ç”¨

- å¯ä»¥ä½¿ç”¨ `NodeJS` ä¸­çš„ `util.promisify` æ¥å°†å…¶è½¬æ¢ä¸ºè¿”å› `Promise` çš„ `API`
- æ¥æ”¶å‚æ•°
  - `repository` : ä»“åº“åœ°å€, æ ¼å¼ä¸º `repoType:owner/repoName#tag` , `tag` å¯æœ‰å¯æ— 
  - `destination` : ä¸‹è½½åˆ°ç£ç›˜ä¸Šçš„å“ªä¸ªä½ç½®
  - `options` : `download` çš„é€‰é¡¹: [kevva/download: Download and extract files](https://github.com/kevva/download#options)

```js
import downloadGitRepo from 'download-git-repo'
import { promisify } from 'util'
const asyncDownloadGitRepo = promisify(downloadGitRepo)

const download = async (repoName, tag) => {
  const url = `github:xsjcTony/${ repoName }# ${ tag }`
  const path = process.env.USERPROFILE
  
  try {
    await asyncDownloadGitRepo(url, path)
  } catch (err) {
    console.error(err)
    process.exit(1)
  }
}
```

---

## ncp

[ncp - npm](https://www.npmjs.com/package/ncp)

[AvianFlu/ncp: Asynchronous recursive file copying with Node.js.](https://github.com/AvianFlu/ncp)

å®šä¹‰

- ç”¨äºå¼‚æ­¥å¤åˆ¶æ–‡ä»¶å’Œç›®å½•

åŸºæœ¬ä½¿ç”¨

- å¯ä»¥ä½¿ç”¨ `util.promisify` æ¥å°†å…¶è½¬æ¢ä¸ºè¿”å› `Promise` çš„ `API`
- æ¥æ”¶å‚æ•°
  - `source`
  - `destination`
  - `options` (å¯é€‰)

```js
import { promisify } from 'util'
import ncp from 'ncp'
const asyncNcp = promisify(ncp)

const demo = async (source, target) => {
  await asyncNcp(source, target)
}
```

---

## shelljs

[shelljs - npm](https://www.npmjs.com/package/shelljs)

[shelljs/shelljs: Portable Unix shell commands for Node.js](https://github.com/shelljs/shelljs)

å®šä¹‰

- åŸºäº `NodeJS` çš„ `unix shell commands`

åŸºæœ¬ä½¿ç”¨

- å¯ä»¥ä½¿ç”¨ `util.promisify` æ¥å°†å…¶è½¬æ¢ä¸ºè¿”å› `Promise` çš„ `API`

```js
import shell from 'shelljs'
const shellExecPromise = promisify(shell.exec)

shell.cd('folderName')
await shellExecPromise('npm install', { silent: true })
```

---

## update-notifier

[update-notifier - npm](https://www.npmjs.com/package/update-notifier)

[yeoman/update-notifier: Update notifications for your CLI app](https://github.com/yeoman/update-notifier)

å®šä¹‰

- ä¸º `terminal` çš„åº”ç”¨æä¾›æ›´æ–°æé†’

åŸºæœ¬ä½¿ç”¨

```js
const notifier = updateNotifier({
	pkg,
	updateCheckInterval: 0 // è¿è¡Œæ—¶ç«‹å³æ£€æŸ¥
});

if (notifier.update) {
	console.log(`Update available: ${notifier.update.latest}`);
}
```

---

## boxen

[boxen - npm](https://www.npmjs.com/package/boxen)

[sindresorhus/boxen: Create boxes in the terminal](https://github.com/sindresorhus/boxen)

å®šä¹‰

- åœ¨ `terminal` ä¸­åˆ›å»ºç›’å­

åŸºæœ¬ä½¿ç”¨

```js
console.log(boxen('123', {
  padding: {
    top: 1,
    right: 5,
    bottom: 1,
    left: 5
  },

  margin: {
    top: 1,
    right: 5,
    bottom: 1,
    left: 5
  },

  textAlignment: 'center',
  borderColor: '#ffc0cb',
  borderStyle: 'round'
}))
```

---

## nodemon

[nodemon - npm](https://www.npmjs.com/package/nodemon)

[nodemon](https://nodemon.io/)

å®šä¹‰

- ç›‘è§† `NodeJS` æœåŠ¡ç«¯åº”ç”¨ç¨‹åºæ–‡ä»¶æ”¹å˜, å¹¶è‡ªåŠ¨é‡å¯æœåŠ¡

å®‰è£…

```shell
npm i -g nodemon
```

åŸºæœ¬ä½¿ç”¨

```shell
n
```

---

## cross-env

[cross-env - npm](https://www.npmjs.com/package/cross-env)

[kentcdodds/cross-env: ğŸ”€ Cross platform setting of environment scripts](https://github.com/kentcdodds/cross-env)

å®šä¹‰

- è¿è¡Œè·¨å¹³å°çš„è®¾ç½®å’Œä½¿ç”¨ç¯å¢ƒå˜é‡çš„è„šæœ¬

å®‰è£…

```shell
npm i -D cross-env
```

åŸºæœ¬ä½¿ç”¨

- åœ¨ `package.json` ä¸­è¾“å…¥å¯¹åº”æŒ‡ä»¤

```json
"scripts": {
  "dev": "cross-env NODE_ENV=dev ..."
  "build": "cross-env NODE_ENV=pro ..."
}
```

- åœ¨ `NodeJS` å·¥ç¨‹æ–‡ä»¶ä¸­é€šè¿‡ `process.env.NODE_ENV` è®¿é—®

```js
console.log(process.env.NODE_ENV)
```



