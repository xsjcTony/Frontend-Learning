# 通用前端知识



## SPA (Single-page Application / 单页应用)

定义

- 只有一个 `HTML` 文件的Web应用
- 一般来说通过 `Vue` 开发的项目就是 `SPA`

特点

- 所有的内容都是在这单个页面中呈现的
- 只会加载一次 `HTML` 文件
- 不会因为用户的操作而重新加载页面
- 通过动态更新页面来向用户呈现不同的内容

优点

- 有良好的交互体验, 不用重新加载整个网页, 只更新局部数据
- 前后端分离开发, 前端负责页面呈现与交互, 后端负责数据
- 减轻服务器压力, 只用处理数据, 不用处理界面
- 共用一套后端程序代码

缺点

- `SEO` 难度较高, 因为只有一个界面, 所以无法针对不同的内容编写不同的 `SEO` 信息
- 初次加载耗时比较多, 因为是单页应用, 所以加载页面的时候需要将所有 `JavaScript` / `CSS` 统一加载
  - 在 `Vue` 中可以使用 `() => import(xxx)` 按需加载的方式解决

---

## 渲染 (Rendering)



### 客户端渲染 (CSR - Client-side Rendering)

定义

- 后端只提供数据, 前端做视图和交互逻辑
- `SPA` 单页应用就是典型的客户端渲染

过程

1. 客户端请求 `HTML` (请求)
2. 服务端返回 `HTML`
3. 客户端渲染 `HTML` , 找到以来的 `JS` / `css` 文件
4. 客户端请求对应的 `JS` / `css` 文件 (请求)
5. 服务端返回对应的 `JS` / `css` 文件
6. 客户端等待 `JS` / `css` 文件下载完成
7. 客户端加载并初始化下载好的 `JS` 文件
8. 客户端执行 `JS` 代码并向后端请求数据 (请求)
9. 服务端返回数据
10. 客户端利用服务端返回的数据填充网页

优点

- 交互体验好
- 可以做局部更新

缺点

- 首屏加载慢, 因为过程中每一步都依赖上一步完成



### 服务端渲染 (SSR - Server-side Rendering)

定义

- 后端既提供数据, 又提供视图和交互逻辑

过程

1. 客户端请求 `HTML` (请求)
2. 服务端内部查找对应的 `HTML` 文件和数据
3. 服务端内部根据 `HTML` 文件和数据生成完整的网页
4. 服务端返回完整的网页
5. 客户端渲染 `HTML` , 找到依赖的 `JS` / `css` 文件
6. 客户端请求对应的 `JS` / `css` 文件 (请求)
7. 服务端返回对应的 `JS` / `css` 文件
8. 客户端等待 `JS` / `css` 文件下载完成
9. 客户端直接展示网页

优点

- 首屏加载快, 因为服务端返回的网页已经包含数据
- 每次请求返回的都是一个独立完成的网页, 更加利于 `SEO`

缺点

- 网络传输数据量大



### 预渲染 (Prerendering)

定义

- 无需服务器实时动态编译
- 在构建时针对特定路由简单的生成静态 `HTML` 文件
- 本质就是 `CSR` 客户端渲染, 只不过和 `SPA` 单页应用不同的是 `预渲染` 有多个界面

优点

- 有多个界面, 更利于 `SEO`

缺点

- 首屏加载慢, 预编译会非常的慢



### 渲染方法选择

- `SSR` 服务端渲染: 注重 `SEO` 的新闻, 电商网站等
- `CSR` 客户端渲染: 注重交互, `SEO` 不重要的页面
- `Prerendering` 预渲染: 处于 `SSR` 和 `CSR` 两者之间, 只需改善少数页面的 `SEO` 时使用

---

## 单元测试

定义

- 对软件中 `最小可测试单元` 进行检查和验证
- `函数` / `类` / `文件` 等都可以称之为 `最小可测试单元`
- 在企业开发中一般以 `函数` 作为 `最小单元`

作用

- 保证代码的正确性
- 保证程序的稳定性
- 增强自信心
- 自动化运行 (CI / CD)
- 公司领导要求

---

## 约定式路由

定义

- 也叫 `文件路由`
- 不需要手写配置, 通过 `目录` 和 `文件` 及其 `命名` 分析出路由配置
- `index.js` 对应的是地址 `/`















